<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="We will display the current weather with a small Powershell script.
To retrieve the weather we need a free API key from https://openweathermap.org/ .
Openweather Api Key Go to the OpenWeather website and create a free account =&amp;gt; https://openweathermap.org/ .
Then in your settings you can create your free API key and use it in your script.
Powershell Script In the first line insert your own API key.
The second and third line is your ZIP and Country code you like to use." />
<meta name="keywords" content=", Powershell, API" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://roflrolle.de/posts/examplepost/" />


    <title>
        
            Display the current weather with Powershell :: roflrolle  — everything i know
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Display the current weather with Powershell">
<meta itemprop="description" content="We will display the current weather with a small Powershell script.
To retrieve the weather we need a free API key from https://openweathermap.org/ .
Openweather Api Key Go to the OpenWeather website and create a free account =&gt; https://openweathermap.org/ .
Then in your settings you can create your free API key and use it in your script.
Powershell Script In the first line insert your own API key.
The second and third line is your ZIP and Country code you like to use."><meta itemprop="datePublished" content="2022-10-25T20:56:35+02:00" />
<meta itemprop="dateModified" content="2022-10-25T20:56:35+02:00" />
<meta itemprop="wordCount" content="214"><meta itemprop="image" content="https://roflrolle.de"/>
<meta itemprop="keywords" content="Powershell,API," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://roflrolle.de"/>

<meta name="twitter:title" content="Display the current weather with Powershell"/>
<meta name="twitter:description" content="We will display the current weather with a small Powershell script.
To retrieve the weather we need a free API key from https://openweathermap.org/ .
Openweather Api Key Go to the OpenWeather website and create a free account =&gt; https://openweathermap.org/ .
Then in your settings you can create your free API key and use it in your script.
Powershell Script In the first line insert your own API key.
The second and third line is your ZIP and Country code you like to use."/>



    <meta property="og:title" content="Display the current weather with Powershell" />
<meta property="og:description" content="We will display the current weather with a small Powershell script.
To retrieve the weather we need a free API key from https://openweathermap.org/ .
Openweather Api Key Go to the OpenWeather website and create a free account =&gt; https://openweathermap.org/ .
Then in your settings you can create your free API key and use it in your script.
Powershell Script In the first line insert your own API key.
The second and third line is your ZIP and Country code you like to use." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://roflrolle.de/posts/examplepost/" /><meta property="og:image" content="https://roflrolle.de"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-25T20:56:35+02:00" />
<meta property="article:modified_time" content="2022-10-25T20:56:35+02:00" /><meta property="og:site_name" content="roflrolle" />







    <meta property="article:published_time" content="2022-10-25 20:56:35 &#43;0200 CEST" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">azure | powershell | cloud</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/posts">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://roflrolle.de/posts/examplepost/">Display the current weather with Powershell</a>
      </h1>

      

      
        <hr />
        <aside id="toc">
          <div class="toc-title">Table of Contents</div>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#openweather-api-key">Openweather Api Key</a></li>
    <li><a href="#powershell-script">Powershell Script</a>
      <ul>
        <li><a href="#example-output">Example Output</a></li>
        <li><a href="#response-structure">Response structure</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </aside>
        <hr />

      

      <div class="post-content">
        <p>We will display the current weather with a small Powershell script.<br>
To retrieve the weather we need a free API key from <a href="https://openweathermap.org/">https://openweathermap.org/</a> .</p>
<h2 id="openweather-api-key">Openweather Api Key</h2>
<p>Go to the OpenWeather website and create a free account =&gt; <a href="https://openweathermap.org/">https://openweathermap.org/</a> .<br>
Then in your settings you can create your free API key and use it in your script.</p>
<h2 id="powershell-script">Powershell Script</h2>
<p>In the first line insert your own API key.<br>
The second and third line is your ZIP and Country code you like to use.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>$apikey=<span style="color:#e6db74">&#34;MYAPIKEY&#34;</span>
</span></span><span style="display:flex;"><span>$zipcode=<span style="color:#e6db74">&#34;90765&#34;</span>
</span></span><span style="display:flex;"><span>$country=<span style="color:#e6db74">&#34;de&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$urlcoordinates=<span style="color:#e6db74">&#34;http://api.openweathermap.org/geo/1.0/zip?zip=</span>$($zipcode)<span style="color:#e6db74">,</span>$($country)<span style="color:#e6db74">&amp;appid=</span>$($apikey)<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$MyCoordinates=Invoke-RestMethod -Uri $urlcoordinates -Method Get
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$urlWeather=<span style="color:#e6db74">&#34;https://api.openweathermap.org/data/2.5/weather?units=metric&amp;lat=</span>$($MyCoordinates.lat)<span style="color:#e6db74">&amp;lon=</span>$($MyCoordinates.lon)<span style="color:#e6db74">&amp;appid=</span>$($apikey)<span style="color:#e6db74">&amp;lang=de&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$MyWeather=Invoke-RestMethod -Uri $urlWeather -Method Get
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Write-Output <span style="color:#e6db74">&#34;--- </span>$($myweather.name)<span style="color:#e6db74"> | </span>$($MyWeather.main.temp)<span style="color:#e6db74">° | </span>$($MyWeather.weather.description)<span style="color:#e6db74"> ---&#34;</span>
</span></span></code></pre></div><h3 id="example-output">Example Output</h3>
<p><img src="/weather1.png" alt="Example Output"></p>
<h3 id="response-structure">Response structure</h3>
<p>The response structure can be found on the Openweather website and looks something like this:
<a href="https://openweathermap.org/current#current_JSON">https://openweathermap.org/current#current_JSON</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;coord&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lon&#34;</span>: <span style="color:#ae81ff">10.99</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lat&#34;</span>: <span style="color:#ae81ff">44.34</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;weather&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">501</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;main&#34;</span>: <span style="color:#e6db74">&#34;Rain&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;moderate rain&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;icon&#34;</span>: <span style="color:#e6db74">&#34;10d&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;base&#34;</span>: <span style="color:#e6db74">&#34;stations&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;main&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;temp&#34;</span>: <span style="color:#ae81ff">298.48</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;feels_like&#34;</span>: <span style="color:#ae81ff">298.74</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;temp_min&#34;</span>: <span style="color:#ae81ff">297.56</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;temp_max&#34;</span>: <span style="color:#ae81ff">300.05</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;pressure&#34;</span>: <span style="color:#ae81ff">1015</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;humidity&#34;</span>: <span style="color:#ae81ff">64</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;sea_level&#34;</span>: <span style="color:#ae81ff">1015</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;grnd_level&#34;</span>: <span style="color:#ae81ff">933</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;visibility&#34;</span>: <span style="color:#ae81ff">10000</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;wind&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;speed&#34;</span>: <span style="color:#ae81ff">0.62</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;deg&#34;</span>: <span style="color:#ae81ff">349</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;gust&#34;</span>: <span style="color:#ae81ff">1.18</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;rain&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;1h&#34;</span>: <span style="color:#ae81ff">3.16</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;clouds&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;all&#34;</span>: <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;dt&#34;</span>: <span style="color:#ae81ff">1661870592</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sys&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">2075663</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;country&#34;</span>: <span style="color:#e6db74">&#34;IT&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;sunrise&#34;</span>: <span style="color:#ae81ff">1661834187</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;sunset&#34;</span>: <span style="color:#ae81ff">1661882248</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;timezone&#34;</span>: <span style="color:#ae81ff">7200</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">3163858</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Zocca&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;cod&#34;</span>: <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>}                     
</span></span></code></pre></div>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://roflrolle.de/tags/powershell/">Powershell</a></span>
        <span class="tag"><a href="https://roflrolle.de/tags/api/">API</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        214 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-10-25 20:56
        

         
          
        
      </p>
    </div>

    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.a2c5b062c87998f04d1b5dfb6a89a1b2d79786c21d0cb63a05e8a2082984b64b77d80955e3b97eab17273775162ba372511b711fea2f7608f216e68a67bb22d6.js" integrity="sha512-osWwYsh5mPBNG137aomhsteXhsIdDLY6BeiiCCmEtkt32AlV47l&#43;qxcnN3UWK6NyURtxH&#43;ovdgjyFuaKZ7si1g=="></script>



    </body>
</html>
